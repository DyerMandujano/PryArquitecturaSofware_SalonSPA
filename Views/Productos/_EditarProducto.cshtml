@model Pry_Solu_SalonSPA.Models.Producto

@{
    Layout = "~/Views/Main.cshtml";
    ViewData["Title"] = "Editar Producto";
}

<link href="~/css/VClientes/_ClienteForm.css" rel="stylesheet" />

<div class="crear-cliente-wrapper">

    <div class="crear-cliente-box">

        <a asp-action="Index" class="btn-back">← Volver</a>

        <div class="header-crear">
            <h2>Editar Producto</h2>
        </div>

        <form asp-action="Editar" method="post" class="form-crear">

            <input type="hidden" asp-for="IdProducto" />
            <input type="hidden" name="id" value="@ViewBag.IdProducto" />

            <!-- CATEGORIA Y MARCA -->
            <div class="form-row">
                <div class="form-group">
                    <label>Categoría</label>
                    <select asp-for="IdCategoria"
                            class="editable-field"
                            asp-items="@(new SelectList(ViewBag.Categorias, "IdCategoria", "NomCate", Model.IdCategoria))">
                        <option value="">Seleccione</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Marca</label>
                    <select asp-for="IdMarca"
                            class="editable-field"
                            asp-items="@(new SelectList(ViewBag.Marcas, "IdMarca", "NomMarca", Model.IdMarca))">
                        <option value="">Seleccione</option>
                    </select>
                </div>
            </div>

            <!-- NOMBRE -->
            <div class="form-row">
                <div class="form-group">
                    <label asp-for="NomProd">Nombre del Producto</label>
                    <input asp-for="NomProd" class="editable-field" required />
                </div>
            </div>

            <!-- DESCRIPCION -->
            <div class="form-row">
                <div class="form-group" style="width:100%;">
                    <label asp-for="Descripcion">Descripción</label>
                    <textarea asp-for="Descripcion" class="editable-field" rows="3"></textarea>
                </div>
            </div>

            <!-- STOCK Y PRECIO -->
            <div class="form-row">
                <div class="form-group">
                    <label asp-for="Stock">Stock</label>
                    <input asp-for="Stock" class="editable-field" type="number" min="0" required />
                </div>

                <div class="form-group">
                    <label asp-for="Precio">Precio</label>
                    <input asp-for="Precio" class="editable-field" type="number" step="0.01" min="0" required />
                </div>
            </div>

            <!-- ESTADO -->
            <div class="form-row">
                <div class="form-group">
                    <label>Estado</label>
                    <select asp-for="Estado" class="editable-field">
                        <option value="1" selected="@(Model.Estado == 1)">Activo</option>
                        <option value="0" selected="@(Model.Estado == 0)">Inactivo</option>
                    </select>
                </div>
                <!-- FECHA REGISTRO -->
                <div class="form-group">
                    <label>Fecha de Registro</label>
                    <input type="text" value="@DateTime.Now.ToString("yyyy-MM-dd")" readonly class="readonly-field" />
                </div>
            </div>

            

            <!-- VALIDACIÓN -->
            @if (!ViewData.ModelState.IsValid)
            {
                <div style="color: red; margin-top: 10px;">
                    <strong>Errores:</strong>
                    <ul>
                        @foreach (var modelState in ViewData.ModelState.Values)
                        {
                            @foreach (var error in modelState.Errors)
                            {
                                <li>@error.ErrorMessage</li>
                            }
                        }
                    </ul>
                </div>
            }

            <div class="form-buttons">
                <a asp-action="Index" class="btn-cancelar">Cancelar</a>
                <button type="submit" class="btn-crear">Actualizar Producto</button>
            </div>

        </form>

    </div>

</div>
